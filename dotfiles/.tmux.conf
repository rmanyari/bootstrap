# Rebind the prefix to `
unbind-key C-b
set -g prefix '`'
bind ` send-key '`'
set -g status on

# Bind some F-key action
bind -n F1 list-windows
bind -n F2 swap-window -t -1
bind -n F3 swap-window -t +1
bind -n F7 resizep -L 5
bind -n F8 resizep -R 5
bind -n F10 setw synchronize-panes
bind -n F11 previous-window
bind -n F12 next-window
bind -n Home last-window
bind -n End resize-pane -Z

# Switch to the previous pane and zoom
bind \; last-pane \; resize-pane -Z

# vi bindings
set -g status-keys vi
set -g mode-keys vi

set -g history-limit 10000

bind-key r source-file ~/.tmux.conf \; display-message "Source file reloaded."

# Renumber windows when one is removed
set -g renumber-windows on

# Disable bells of any kind
set -g visual-bell off
set -g bell-action none

# Easy split pane commands
unbind '"'
unbind %
bind = split-window -h
bind - split-window -v

# Index from 1
set -g base-index 1
setw -g pane-base-index 1

# Moving between panes with vim movement keys
bind h select-pane -L
bind j select-pane -D
bind k select-pane -U

# Status line stuff
set -g status-left ''
set -g status-utf8 on
set -g status-justify centre
set -g status-bg black
set -g status-fg green
set -g window-status-fg green
set -g window-status-bg black
set -g window-status-current-fg black
set -g window-status-current-bg green
set -g window-status-activity-bg black
set -g window-status-activity-fg red
set -g status-right "#[fg=green]#(TZ=Europe/London date +%%H:%%M) GMT"

# Display messages a fraction longer than normal
set -g display-time 900

# Pane resize in all four directions using vi bindings.
bind-key -r H resize-pane -L 5
bind-key -r J resize-pane -D 5
bind-key -r K resize-pane -U 5
bind-key -r L resize-pane -R 5

# Join window X to the bottom of the current window
bind s command-prompt -p "Create pane from:" "join-pane -s ':%%'"
# Remove the current pane back to its own window (background)
bind Q breakp -d -t :
# Join window to the bottom of the current window (present a choice)
bind < split-window -v \; choose-window 'kill-pane ; join-pane -s %%'

# Toggle activity monitoring
bind M run -b '~/.tmux.d/tmux_activity'
# Toggle silence monitoring
bind S run -b '~/.tmux.d/tmux_silence'
# Toggle sync-panes
bind Y setw synchronize-panes
# Kill all panes
bind a killp -a

set -g mode-mouse on
set -ga terminal-overrides ',xterm*:smcup@:rmcup@'
